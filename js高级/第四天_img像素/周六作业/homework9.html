<!doctype html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Document</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			div {
				width: 100%;
				text-align: center;
			}
			
			input {
				width: 100px;
				height: 30px;
				background-color: #38f;
				margin-top: 2px;
				border: none;
				outline: none;
				font-size: 20px;
				color: white;
			}
			
			canvas {
				border: 3px solid black;
			}
			
			div input:nth-child(10) {
				position: relative;
				top: 8px;
			}
		</style>
	</head>

	<body>
		<div>
			<input type="button" name="" id="" value="红色" class="input1" />
			<input type="button" name="" id="" value="黄色" class="input1" />
			<input type="button" name="" id="" value="黑色" class="input1" />
			<input type="button" name="" id="" value="绿色" class="input1" />
			<input type="button" name="" id="" value="蓝色" class="input1" />
			<input type="button" name="" id="" value="橙色" class="input1" />
			<input type="button" name="" id="" value="粉色" class="input1" />
			<input type="button" name="" id="" value="紫色" class="input1" />
			<input type="button" name="" id="" value="白色" class="input1" /> 
		</div>
		<br />
		<canvas id="myCanVas" width="800" height="600"></canvas>
		<script type="text/javascript">
			var Canvas = document.getElementById("myCanVas");
			var can = Canvas.getContext("2d");
			var inputs = document.querySelectorAll(".input1");
			var colorArr = ["red", "yellow", "black", "green", "blue", "orange", "pink", "purple", "white"];

			var penColor = null;
			for(var i = 0; i < inputs.length; i++) {
				inputs[i].index = i;
				inputs[i].onclick = function() {
					for(var i = 0; i < inputs.length; i++) {
						inputs[i].style.backgroundColor = "#38f";
						inputs[i].style.color = "white";
					}
					penColor = colorArr[this.index];
					this.style.backgroundColor = penColor;
					this.style.color = "#38f";
				}
			}

			Canvas.onmousedown = function() {
				document.onmousemove = function(ev) {
					var ev = ev || window.event;
					var x = ev.clientX - Canvas.offsetLeft;
					var y = ev.clientY - Canvas.offsetTop;
					can.beginPath();
					can.arc(x - 2, y - 2, 4, 0, 2 * Math.PI, true);
					can.fillStyle = penColor;
					can.fill();
					can.closePath();
					return false;
				}
			}
			Canvas.onmouseup = function() {
				document.onmousemove = "";
			}
		</script>
	</body>

</html>